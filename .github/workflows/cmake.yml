name: OneFLOW Windows_CI
# Controls when the workflow will run
on:
 # Triggers the workflow on push or pull request events but only for
   push:
     branches: [ main ]
   pull_request:
     branches: [ main ]
# Allows you to run this workf1ow manually from the Actions tab
   workflow_dispatch:
# Aworkflow run i3 made up of one or more jobs that can run sequentia
jobs:
  build:
    name: "Windows OneFLOW CFD build"
    runs-on: windows-latest
    steps:
     - uses: actions/checkout@v2
     - name: Display the path by  pwsh
       run: echo S{env:PATH}
       shell: pwsh
     - name: Display github.workspace by pwsh
       run:  
          echo "github.workspace is ${{ github.workspace }}."
          1s ${{ github.workspace } }
       shell: pwsh
     - name: CMake Build
       run: 
          cd $l{ github.workspace }}
          1s
          mkdir build
          cd build
          cmake --version
          cmake -DCMAKE_ INSTALL_ PREFIX=S{{ github.workspace }} ../
       shell: pwsh
     - name: CMake Install
       env:
         prefix: ${{ github . workspace }}
       run: 
         cd ${{ github.workspace }}/build
         1s
         cmake --build . --target INSTALL --config release
         1s "$l{env.prefix}}"
         cd "${{env.prefix}/bin"
         1s
         ./CMakePrj.exe
       shell: pwsh
